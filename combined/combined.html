<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FloatChat - Ocean Data Assistant</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/boxicons/2.1.4/css/boxicons.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* ==================== GLOBAL VARIABLES & BASE ==================== */
        :root {
            /* General Colors */
            --background: hsl(210, 20%, 98%);
            --card: hsl(0, 0%, 100%);
            --foreground: hsl(210, 25%, 15%);
            --primary: hsl(195, 75%, 45%);
            --secondary: hsl(195, 75%, 88%);
            --accent: hsl(180 85% 35%); 
            --border: hsl(195, 20%, 85%);
            --muted-foreground: hsl(210, 15%, 45%);
            --radius: 0.75rem;

            /* Chat/Button Overrides */
            --chat-primary: 200, 80%, 40%;
            --chat-accent: #00a3c4;
            --chat-background-color: #e0f7fb;
            
            /* Gradients and Shadows */
            --gradient-ocean: linear-gradient(135deg, hsl(200, 85%, 45%), hsl(180, 85%, 35%));
            --gradient-surface: linear-gradient(180deg, hsl(195, 75%, 92%), hsl(195, 60%, 97%));
            --shadow-data: 0 4px 20px hsl(195 85% 45% / 0.15);
            
            /* Features Page Color Variables (Integrated) */
            --feature-bg: #f9fcff;
            --feature-card: #e9f8ff;
            --feature-accent1: #0077b6;
            --feature-accent2: #00b4d8;
            --feature-accent1-dark: #005f87;
            --feature-accent2-dark: #0094b8;
        }

        /* Basic Setup (Combined) */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif; 
        }

        body {
            background-color: var(--chat-background-color); 
            color: var(--foreground);
            min-height: 100vh;
            padding-top: 80px; 
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 50vh;
            background: var(--gradient-surface);
            z-index: -1;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 2rem;
        }
        
        /* ==================== NAVBAR & BUTTONS ==================== */
        .navbar {
            background-color: hsla(0, 0%, 100%, 0.9);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
            z-index: 1000;
            padding: 1rem 5%;
            border-bottom: 1px solid var(--border);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
        }
        
        .navbar-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .navbar-logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
            font-weight: 700;
            font-size: 1.5rem;
        }

        .navbar-logo .logo-path {
            fill: var(--primary);
        }

        .nav-links {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .nav-links a {
            margin: 0 0.2rem;
            text-decoration: none;
            color: var(--muted-foreground);
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .nav-links a:hover, .nav-links a.active {
            color: var(--primary);
        }
        
        .gradient-text {
            background: var(--gradient-ocean);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .navbar .nav-buttons .btn-signin {
            background: none;
            border: none;
            color: var(--foreground);
            font-weight: 600;
            margin-right: 1rem;
            cursor: pointer;
            text-decoration: none;
        }

        .btn-primary {
            background-color: var(--chat-accent);
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            transition: background-color 0.3s ease, transform 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary:hover {
            filter: brightness(1.1);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background-color: var(--card);
            color: var(--primary);
            padding: 0.75rem 1.5rem;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: background-color 0.3s ease, transform 0.2s;
            text-decoration: none;
        }
        
        .btn-secondary:hover {
            background-color: var(--background);
            transform: translateY(-2px);
        }

        /* ==================== CARD & MODAL BASE STYLES ==================== */

        .card {
            background-color: var(--card);
            border-radius: var(--radius);
            padding: 1.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--border);
        }

        /* Modal Structure (from Dashboard HTML) */
        .modal {
            display: none; 
            position: fixed; 
            z-index: 2000; 
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4); 
            padding-top: 50px;
        }

        .modal-content {
            background-color: #fefefe;
            margin: 5% auto; 
            padding: 20px;
            border-radius: var(--radius);
            border: 1px solid #888;
            width: 90%; 
            max-width: 500px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border);
            padding-bottom: 15px;
            margin-bottom: 15px;
        }

        .modal-header h2 {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--foreground);
        }

        .close-button {
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            transition: color 0.2s;
        }

        .close-button:hover,
        .close-button:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }

        .modal-body .filter-item {
            margin-bottom: 1rem;
        }

        .modal-body label {
            display: block;
            margin-bottom: 0.4rem;
            font-weight: 500;
            color: var(--muted-foreground);
            font-size: 0.9rem;
        }

        .modal-body input[type="text"],
        .modal-body select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            font-family: inherit;
            font-size: 1rem;
            background-color: var(--background);
        }

        /* ==================== DASHBOARD STYLES ==================== */
        #dashboard-page {
            display: none; /* Will be shown by JS on initial load */
        }
        
        .dashboard {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            margin-bottom: 2rem;
            gap: 1rem;
        }

        .dashboard-header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .dashboard-header p {
            color: var(--muted-foreground);
        }

        .header-buttons {
            display: flex;
            gap: 1rem;
        }

        /* Filters Bar */
        .filters-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1.5rem;
            margin-bottom: 2rem;
            padding: 1.5rem;
        }

        .filter-item label {
            display: block;
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--muted-foreground);
            margin-bottom: 0.4rem;
        }

        .filter-item select,
        .filter-item input {
            width: 100%;
            padding: 0.6rem 0.8rem;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            background-color: var(--background);
            font-family: inherit;
            font-size: 1rem;
        }

        /* Dashboard Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .viz-card {
            display: flex;
            flex-direction: column;
            overflow: hidden;
            height: 400px; /* Standard height for consistency */
        }

        .viz-card.full-width {
            grid-column: 1 / -1;
            height: 450px;
        }

        .viz-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
            margin-bottom: 1rem;
        }

        .icon-wrapper {
            background-color: var(--secondary);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .viz-icon {
            font-size: 1.5rem;
            color: var(--primary);
        }

        .viz-header h3 {
            font-size: 1.1rem;
            font-weight: 600;
        }

        .viz-header p {
            font-size: 0.85rem;
            color: var(--muted-foreground);
        }

        .viz-placeholder {
            flex-grow: 1;
            position: relative;
        }
        
        .viz-placeholder canvas {
            max-height: 100%;
            max-width: 100%;
        }
        
        .disabled-message {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none; /* Controlled by JS */
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: var(--radius);
            text-align: center;
            font-size: 1.1rem;
            font-weight: 500;
            color: var(--muted-foreground);
        }

        /* Stats Bar */
        .stats-bar {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 2rem;
            margin-bottom: 4rem;
        }

        .stat-card {
            text-align: center;
            padding: 1.5rem;
        }

        .stat-card h2 {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.3rem;
        }

        .stat-card p {
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--foreground);
            margin-bottom: 0.2rem;
        }

        .stat-card span {
            font-size: 0.75rem;
            color: var(--muted-foreground);
        }
        
        /* ==================== ABOUT PAGE STYLES (Existing) ==================== */
        #about-page {
            display: none;
        }
        /* ... existing styles for about-page elements (hero, main-content-about, etc.) ... */
        .hero { padding: 6rem 0; text-align: center; }
        .pill { display: inline-flex; align-items: center; padding: 0.5rem 1.25rem; background-color: var(--card); border: 1px solid var(--border); border-radius: 9999px; font-size: 0.9rem; color: var(--muted-foreground); box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05); margin-bottom: 2rem; gap: 0.5rem; }
        .hero h1 { font-size: 3.5rem; font-weight: 700; color: var(--foreground); margin-bottom: 1rem; }
        .hero-text { max-width: 800px; margin: 0 auto; font-size: 1.1rem; color: var(--muted-foreground); line-height: 1.8; }
        .main-content-about { padding-top: 5rem; }
        .main-section { background-color: var(--card); border-radius: 1.5rem; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05); margin-bottom: 2.5rem; padding: 4rem; }
        .main-section-first { margin-top: -3rem; }
        .section-header, .section-content h2, .card-item h3 { color: hsl(210, 25%, 25%); }
        .section-header { text-align: center; font-size: 2.5rem; font-weight: 700; margin-bottom: 3rem; }
        .section-content { display: flex; align-items: flex-start; gap: 4rem; }
        .section-content h2 { font-size: 2.5rem; font-weight: 700; margin-bottom: 1.5rem; }
        .section-content p { color: var(--muted-foreground); margin-bottom: 1rem; }
        .stats-card { background-color: var(--card); border-radius: 1.5rem; box-shadow: var(--shadow-data); text-align: center; padding: 2rem; flex: 0 0 45%; position: relative; }
        .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem 1rem; margin-top: 1.5rem; }
        .stat h3 { font-size: 1.8rem; font-weight: 700; color: var(--primary); }
        .stat p { font-size: 0.9rem; color: var(--muted-foreground); margin: 0; }
        .card-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 2.5rem; }
        .card-item { background-color: var(--card); border-radius: 1.5rem; padding: 2rem; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05); text-align: center; transition: transform 0.2s ease; }
        .card-item:hover { transform: translateY(-5px); }
        .card-icon-wrapper { width: 4rem; height: 4rem; background-color: var(--secondary); border-radius: 9999px; display: flex; justify-content: center; align-items: center; margin: 0 auto 1.5rem; }
        .card-icon { color: var(--primary); font-size: 2rem; }
        .card-item h3 { font-size: 1.2rem; font-weight: 600; margin-bottom: 0.5rem; }
        .pill-list { list-style: none; padding: 0; margin: 0; }
        .pill-list li { display: flex; align-items: center; margin-bottom: 1rem; color: var(--muted-foreground); font-weight: 500; }
        .pill-label { background-color: hsl(195, 75%, 92%); color: var(--foreground); font-weight: 600; font-size: 0.8rem; padding: 0.25rem 0.75rem; border-radius: 9999px; margin-right: 1rem; white-space: nowrap; }
        .pill-label.research { background-color: hsl(195, 75%, 92%); }
        .pill-label.ai { background-color: hsl(195, 75%, 92%); color: var(--foreground); }
        .two-column-layout { display: grid; grid-template-columns: repeat(2, 1fr); gap: 4rem; }
        
        /* ==================== CHAT PAGE STYLES (Existing) ==================== */
        #chat-page {
            display: none;
        }
        /* ... existing styles for chat-page elements (hero-chat, main-content-chat, etc.) ... */
        .hero-chat { text-align: center; padding: 3rem 2rem; }
        .hero-chat h1 { font-size: 2.5rem; color: hsl(var(--chat-primary)); margin-bottom: 1rem; }
        .hero-chat p { color: #444; max-width: 600px; margin: 0 auto; }
        .main-content-chat { display: flex; justify-content: center; gap: 2rem; max-width: 1200px; margin: 2rem auto; padding: 0 2rem; }
        .left-column { flex: 2; }
        .right-column { flex: 1; display: flex; flex-direction: column; gap: 2rem; }
        .chat-container { background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; overflow: hidden; padding: 1rem; }
        .chat-box { display: flex; flex-direction: column; gap: 1.2rem; margin-bottom: 1rem; max-height: 500px; overflow-y: auto; }
        .assistant, .user { display: flex; gap: 0.8rem; }
        .user { justify-content: flex-end; }
        .bot-icon { background: var(--chat-accent); color: #fff; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border-radius: 50%; font-size: 1.2rem; flex-shrink: 0; }
        .user-icon { background: #ccc; color: #000; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border-radius: 50%; font-size: 1.2rem; flex-shrink: 0; order: 2; }
        .message { background: #f0f4f8; padding: 1rem; border-radius: 10px; position: relative; max-width: 70%; }
        .user .message { order: 1; }
        .user-message { background: var(--chat-accent); color: #fff; }
        .time { font-size: 0.75rem; color: #666; display: block; margin-top: 0.4rem; color: inherit; opacity: 0.7; }
        .user-message .time { color: white; opacity: 0.7; }
        .viz-btn { background: #f0faff; border: 1px solid #d0e8f2; padding: 0.5rem 1rem; margin-top: 0.6rem; border-radius: 6px; cursor: pointer; transition: background-color 0.2s; }
        .viz-btn:hover { background: #d0e8f2; }
        .input-box { display: flex; gap: 0.5rem; }
        .input-box input { flex: 1; padding: 0.8rem; border: 1px solid #ccc; border-radius: 6px; font-family: inherit; }
        .send-btn { background: var(--chat-accent); color: #fff; border: none; padding: 0 1rem; border-radius: 6px; cursor: pointer; transition: filter 0.2s; }
        .send-btn:hover { filter: brightness(1.1); }
        .sample-queries h3, .quick-actions h3, .data-coverage h3 { margin-bottom: 1rem; color: hsl(var(--chat-primary)); }
        .query { background: #f7f9fc; padding: 0.8rem 1rem; border-radius: 6px; margin-bottom: 0.6rem; cursor: pointer; transition: background-color 0.2s; }
        .query:hover { background: #e9eef2; }
        .quick-actions button { display: block; width: 100%; margin-bottom: 0.6rem; padding: 0.8rem 1rem; border: 1px solid #e0e0e0; border-radius: 6px; background: #fff; cursor: pointer; text-align: left; font-family: inherit; font-weight: 500; transition: background-color 0.2s; }
        .quick-actions button:hover { background-color: #f7f9fc; }
        .data-coverage { padding: 1.5rem; background: #fff; border-radius: 10px; border: 1px solid #e5e7eb; }
        .stats { display: flex; justify-content: space-between; font-size: 0.95rem; text-align: center; }
        .stats strong { color: hsl(var(--chat-foreground)); }

        /* ==================== FEATURES PAGE STYLES (Existing) ==================== */
        #features-page {
            display: none;
        }
        /* ... existing styles for features-page elements (features-container, features-grid, etc.) ... */
        .features-container{ max-width:1200px; margin:0 auto; padding:40px 20px; text-align:center; }
        .features-title{ font-size:2.2rem; color:#006c80; margin:0 0 8px 0; font-weight:700; }
        .features-subtitle{ margin:8px 0 28px 0; color:#555; font-size:1rem; }
        .features-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(360px, 1fr)); gap:26px; align-items:stretch; }
        .feature-card-item{ background: var(--feature-card); border-radius:14px; padding:26px; text-align:left; box-shadow: 0 6px 16px rgba(0,0,0,0.06); transition: transform 0.22s ease, box-shadow 0.22s ease; display:flex; flex-direction:column; }
        .feature-card-item:hover{ transform: translateY(-6px); box-shadow: 0 12px 30px rgba(0,0,0,0.10); }
        .feature-icon{ width:64px; height:64px; border-radius:14px; display:flex; align-items:center; justify-content:center; margin-bottom:18px; background: linear-gradient(135deg, var(--feature-accent1), var(--feature-accent2)); box-shadow: 0 6px 16px rgba(0,0,0,0.08); transition: transform 0.30s cubic-bezier(.2,.9,.2,1), background 0.30s ease, box-shadow 0.30s ease; flex: 0 0 auto; }
        .feature-icon svg{ width:28px; height:28px; display:block; }
        .feature-card-item:hover .feature-icon{ transform: scale(1.18); background: linear-gradient(135deg, var(--feature-accent1-dark), var(--feature-accent2-dark)); box-shadow: 0 8px 26px rgba(0,160,200,0.45); }
        .feature-card-item h3{ margin:0 0 10px 0; font-size:1.18rem; color:#003d4d; font-weight:700; }
        .feature-card-item p{ margin:0 0 14px 0; color:#333; line-height:1.45; font-size:0.98rem; }
        .highlight{ display:inline-block; background:#dff6f9; color:#008c9e; padding:7px 12px; border-radius:8px; font-weight:700; font-size:0.9rem; }
        .explore-wrap{ margin-top:34px; text-align:center; }
        .explore-btn{ display:inline-block; background: linear-gradient(90deg,#004e92,#00c6ff); color:white; border:none; padding:14px 36px; border-radius:14px; font-weight:800; cursor:pointer; box-shadow:0 10px 30px rgba(0,0,0,0.12); transition: transform 0.26s ease, box-shadow 0.26s ease; font-size:1rem; }
        .explore-btn:hover{ transform: translateY(-4px) scale(1.03); box-shadow:0 16px 44px rgba(0,0,0,0.18); }
        
        /* ==================== MEDIA QUERIES (COMBINED) ==================== */
        @media (max-width: 1024px) {
            .container { padding: 0 1rem; }
            .section-content { flex-direction: column; }
            .card-grid { grid-template-columns: 1fr; }
            .two-column-layout { grid-template-columns: 1fr; }
            .main-content-chat { flex-direction: column; }
            .features-grid { grid-template-columns: 1fr; }
            .dashboard-grid { grid-template-columns: 1fr; }
            .viz-card.full-width { height: 400px; }
            .stats-bar { grid-template-columns: repeat(2, 1fr); gap: 1rem; }
            .filters-container { grid-template-columns: repeat(2, 1fr); }
            .dashboard-header { flex-direction: column; align-items: flex-start; }
            .header-buttons { margin-top: 1rem; }
        }

        @media (max-width: 768px) {
            .navbar-container { flex-direction: column; gap: 1rem; }
            .nav-links { display: none; }
            .hero h1 { font-size: 2.5rem; }
            .section-header { font-size: 2rem; }
            .btn-signin { display: none; }
            .filters-container { grid-template-columns: 1fr; }
        }
        
        @media (max-width:420px){
            .feature-icon{ width:56px; height:56px; border-radius:12px; }
            .feature-icon svg{ width:24px; height:24px; }
            .feature-card-item { padding:18px; border-radius:12px; }
            .stats-bar { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <header class="navbar">
        <div class="navbar-container">
            <a href="#" class="navbar-logo" onclick="navigateTo('about-page'); return false;">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM16.24 16.24C15.07 17.41 13.57 18 12 18C10.43 18 8.93 17.41 7.76 16.24C6.59 15.07 6 13.57 6 12C6 11.17 6.21 10.36 6.58 9.62L14.38 17.42C13.64 17.79 12.83 18 12 18C10.14 18 8.5 16.74 7.82 15H16.18C15.5 16.74 13.86 18 12 18C11.17 18 10.36 17.79 9.62 17.42L17.42 9.62C17.79 10.36 18 11.17 18 12C18 13.86 16.74 15.5 15 15.18V7.82C16.74 8.5 18 10.14 18 12C18 13.57 17.41 15.07 16.24 16.24Z" class="logo-path"/>
                </svg>
                <span class="gradient-text">FloatChat</span>
            </a>
            <nav class="nav-links">
                <a href="#" class="nav-link" data-page="features-page" id="features-link">Features</a>
                <a href="#" class="nav-link" data-page="chat-page">Chat</a>
                <a href="#" class="nav-link" data-page="dashboard-page" id="dashboard-link">Dashboard</a> 
                <a href="#" class="nav-link" data-page="about-page" id="about-link">About</a>
            </nav>
            <div class="nav-buttons">
                <a href="#" class="btn-signin">Sign In</a>
                <a href="#" class="btn-primary" onclick="navigateTo('chat-page'); return false;">Get Started</a>
            </div>
        </div>
    </header>

    <main>
        <div id="dashboard-page">
            <main class="dashboard">
                <section class="dashboard-header">
                    <div>
                        <h1 class="gradient-text">Data Dashboard</h1>
                        <p>Interactive visualizations of ARGO oceanographic data</p>
                    </div>
                    <div class="header-buttons">
                        <button class="btn-secondary"><i class='bx bx-export'></i> Export Data</button>
                        <button id="advancedFiltersBtn" class="btn-primary"><i class='bx bx-slider-alt'></i> Advanced Filters</button>
                    </div>
                </section>

                <section class="filters-container card">
                    <div class="filter-item">
                        <label for="region">Region</label>
                        <select id="region">
                            <option>Indian Ocean</option>
                        </select>
                    </div>
                    <div class="filter-item">
                        <label for="parameterSelect">Parameter</label>
                        <select id="parameterSelect">
                            <option value="TEMP">Temperature</option>
                            <option value="PSAL">Salinity</option>
                            <option value="PRES">Pressure</option>
                        </select>
                    </div>
                    <div class="filter-item">
                        <label for="date-from">Date From</label>
                        <input type="text" id="date-from" value="January 1st, 2025" disabled>
                    </div>
                    <div class="filter-item">
                        <label for="date-to">Date To</label>
                        <input type="text" id="date-to" value="December 31st, 2025" disabled>
                    </div>
                </section>
                
                <div class="dashboard-grid">
                    <div class="card viz-card">
                        <div class="viz-header">
                            <div class="icon-wrapper"><i class='bx bx-map-alt viz-icon'></i></div>
                            <div>
                                <h3>Float Trajectories</h3>
                                <p>Real-time positioning across ocean basins</p>
                            </div>
                        </div>
                        <div class="viz-placeholder">
                            <canvas id="floatTrajectoriesChart"></canvas>
                        </div>
                    </div>

                    <div class="card viz-card">
                        <div class="viz-header">
                            <div class="icon-wrapper"><i class='bx bx-line-chart viz-icon'></i></div>
                            <div>
                                <h3>Depth-Time Analysis</h3>
                                <p>Parameter variations over depth and time</p>
                            </div>
                        </div>
                        <div class="viz-placeholder">
                            <canvas id="mainAnalysisChart"></canvas>
                        </div>
                    </div>

                    <div class="card viz-card full-width">
                        <div class="viz-header">
                            <div class="icon-wrapper"><i class='bx bx-pie-chart-alt-2 viz-icon'></i></div>
                            <div>
                                <h3>Comparative Analysis</h3>
                                <p>Multi-region and temporal comparisons</p>
                            </div>
                        </div>
                        <div class="viz-placeholder">
                            <canvas id="comparativeAnalysisChart"></canvas>
                            <div id="comparativeAnalysisMessage" class="disabled-message">
                                <p>Please select multiple floats to enable comparison.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <section class="stats-bar">
                <div class="stat-card card">
                    <h2 id="activeFloatsStat">847</h2>
                    <p>Active Floats</p>
                    <span id="floatsRegionStat">in Indian Ocean</span>
                </div>
                <div class="stat-card card">
                    <h2 id="dataPointsStat">2.3M</h2>
                    <p>Data Points</p>
                    <span>in selected range</span>
                </div>
                <div class="stat-card card">
                    <h2 id="avgTempStat">4.2°C</h2>
                    <p>Avg Temperature</p>
                    <span id="tempDepthStat">at 1000m depth</span>
                </div>
                <div class="stat-card card">
                    <h2 id="avgSalinityStat">35.1</h2>
                    <p>Avg Salinity</p>
                    <span>PSU</span>
                </div>
                </section>
            </main>
        </div>
        
        <div id="about-page">
            <section class="hero">
                <div class="container">
                    <div class="pill">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2C8.75 2 6 4.75 6 8C6 11.25 8.75 14 12 14C15.25 14 18 11.25 18 8C18 4.75 15.25 2 12 2ZM12 4C14.21 4 16 5.79 16 8C16 10.21 14.21 12 12 12C9.79 12 8 10.21 8 8C8 5.79 9.79 4 12 4Z" fill="hsl(195, 75%, 45%)"/>
                            <path d="M12 16C8.75 16 6 18.75 6 22H18C18 18.75 15.25 16 12 16Z" fill="hsl(195, 75%, 45%)"/>
                        </svg>
                        About FloatChat & ARGO
                    </div>
                    <h1 class="gradient-text">Democratizing Ocean Data</h1>
                    <p class="hero-text">FloatChat transforms the way researchers, educators, and decision-makers interact with oceanographic data, making the vast ARGO dataset accessible through conversational AI.</p>
                </div>
            </section>

            <section class="main-content-about container">
                <div class="main-section main-section-first">
                    <div class="section-content">
                        <div style="flex: 1;">
                            <h2>What are ARGO Floats?</h2>
                            <p>ARGO is a Indian ocean observing system consisting of 7 autonomous floats that continuously monitor the ocean's temperature, salinity, and pressure in the range of 500 to 1500.</p>
                            <p>These robotic floats drift with ocean currents, surfacing every 10 days to transmit their data via satellite. Together, they provide unprecedented insights into ocean behavior, climate patterns, and marine ecosystems.</p>
                            <p>The ARGO program represents one of the most successful international collaborations in oceanography, with data freely available to researchers worldwide.</p>
                            <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                                <a href="#" class="btn-secondary">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>
                                    Visit ARGO Project
                                </a>
                                <a href="#" class="btn-primary">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                                    Download Dataset
                                </a>
                            </div>
                        </div>
                        <div class="stats-card">
                            <div class="card-icon-wrapper" style="position: absolute; top: -50px; left: 50%; transform: translateX(-50%); width: 6rem; height: 6rem;">
                                <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M24 6C17.0965 6 12 11.0965 12 18C12 24.9035 17.0965 30 24 30C30.9035 30 36 24.9035 36 18C36 11.0965 30.9035 6 24 6ZM24 10C28.4183 10 32 13.5817 32 18C32 22.4183 28.4183 26 24 26C19.5817 26 16 22.4183 16 18C16 13.5817 19.5817 10 24 10Z" fill="url(#cardIconGradient)"/>
                                    <path d="M24 32C17.0965 32 12 37.0965 12 44H36C36 37.0965 30.9035 32 24 32Z" fill="url(#cardIconGradient)"/>
                                    <defs>
                                        <linearGradient id="cardIconGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                            <stop offset="0%" stop-color="hsl(200, 85%, 45%)" />
                                            <stop offset="100%" stop-color="hsl(180, 85%, 35%)" />
                                        </linearGradient>
                                    </defs>
                                </svg>
                            </div>
                            <div class="stats-grid" style="margin-top: 2rem;">
                                <div class="stat">
                                    <h3>7</h3>
                                    <p>Active Floats</p>
                                </div>
                                <div class="stat">
                                    <h3>500-1500</h3>
                                    <p>Pressure Range</p>
                                </div>
                                <div class="stat">
                                    <h3>10 days</h3>
                                    <p>Cycle Time</p>
                                </div>
                                <div class="stat">
                                    <h3>24/7</h3>
                                    <p>Monitoring</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="main-section">
                    <h2 class="section-header">FloatChat Features</h2>
                    <div class="card-grid">
                        <div class="card-item">
                            <div class="card-icon-wrapper">
                                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-zap card-icon"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>
                            </div>
                            <h3>AI-Powered Analysis</h3>
                            <p>Natural language queries powered by large language models and RAG pipeline</p>
                        </div>
                        <div class="card-item">
                            <div class="card-icon-wrapper">
                                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-database card-icon"><ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4.03 3-9 3s-9-1.34-9-3"></path><path d="M21 12v7c0 1.66-4.03 3-9 3s-9-1.34-9-3v-7"></path></svg>
                            </div>
                            <h3>Comprehensive Data</h3>
                            <p>Access to a number of ARGO floats with oceanographic measurements</p>
                        </div>
                        <div class="card-item">
                            <div class="card-icon-wrapper">
                                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-globe card-icon"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
                            </div>
                            <h3>Global Coverage</h3>
                            <p>Worldwide ocean monitoring from surface across Indian ocean basin.</p>
                        </div>
                    </div>
                </div>
                
                <div class="main-section">
                    <h2 class="section-header">Project Goals</h2>
                    <div class="card-grid">
                        <div class="card-item">
                            <div class="card-icon-wrapper">
                                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-target card-icon"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle></svg>
                            </div>
                            <h3>Accessibility</h3>
                            <p>Make complex oceanographic data accessible to non-technical users through natural language interfaces</p>
                        </div>
                        <div class="card-item">
                            <div class="card-icon-wrapper">
                                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-users card-icon"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                            </div>
                            <h3>Collaboration</h3>
                            <p>Enable researchers, policymakers, and educators to easily explore and understand ocean data</p>
                        </div>
                        <div class="card-item">
                            <div class="card-icon-wrapper">
                                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bulb card-icon"><path d="M15.5 14.5c-1.8-1.8-4.2-1.8-6 0-1.8 1.8-1.8 4.2 0 6 1.8 1.8 4.2 1.8 6 0 1.8-1.8 1.8-4.2 0-6z"></path><path d="M9.5 2h5c1.1 0 2 .9 2 2v2c0 1.1-.9 2-2 2h-5c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2z"></path><path d="M9.5 22h5c1.1 0 2-.9 2-2v-2c0 1.1-.9 2-2 2h-5c-1.1 0-2-.9-2 2v2c0 1.1.9 2 2 2z"></path></svg>
                            </div>
                            <h3>Innovation</h3>
                            <p>Bridge the gap between raw scientific data and actionable insights through AI-driven analysis</p>
                        </div>
                    </div>
                </div>
                
                <div class="main-section">
                    <h2 class="section-header">Technical Architecture</h2>
                    <div class="two-column-layout">
                        <div>
                            <h3>Data Pipeline</h3>
                            <ul class="pill-list">
                                <li>
                                    <span class="pill-label">NetCDF</span> 
                                    ARGO dataset ingestion and processing
                                </li>
                                <li>
                                    <span class="pill-label">MongoDB</span> 
                                    Structured relational database storage
                                </li>
                                <li>
                                    <span class="pill-label">Vector DB</span> 
                                    Metadata indexing for fast retrieval
                                </li>
                            </ul>
                        </div>
                        <div>
                            <h3>AI & Interface</h3>
                            <ul class="pill-list">
                                <li>
                                    <span class="pill-label">RAG</span> 
                                    Retrieval-Augmented Generation pipeline
                                </li>
                                <li>
                                    <span class="pill-label ai">LLM</span> 
                                    Natural language query processing
                                </li>
                                <li>
                                    <span class="pill-label">React</span> 
                                    Interactive visualization frontend
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="main-section">
                    <h2 class="section-header">Data Sources & Documentation</h2>
                    <div class="two-column-layout">
                        <div>
                            <h3>Primary Dataset</h3>
                            <div class="card-item" style="text-align: left; padding: 1.5rem;">
                                <h3 style="margin-bottom: 0.5rem;">Indian Ocean ARGO Data</h3>
                                <p style="margin-bottom: 1.5rem;">Proof-of-concept implementation focusing on Indian Ocean region with comprehensive float coverage.</p>
                                <div style="display: flex; gap: 1rem; justify-content: flex-start;">
                                    <a href="#" class="btn-primary">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                                        CSV Format
                                    </a>
                                    <a href="#" class="btn-primary">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                                        NetCDF Format
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h3>Future Expansions</h3>
                            <ul class="pill-list">
                                <li>
                                    <span class="pill-label">Planned</span>
                                    Global ARGO float network
                                </li>
                                <li>
                                    <span class="pill-label">Planned</span>
                                    Forecast future ocean conditions using ML, enabling proactive planning and research.
                                </li>
                                <li>
                                    <span class="pill-label">Planned</span>
                                    Satellite oceanography data
                                </li>
                                <li>
                                    <span class="pill-label research">Research</span>
                                    Bio-Argo biochemical sensors
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <div id="features-page">
            <div class="features-container">
                <h1 class="features-title">Powerful Features for Ocean Research</h1>
                <p class="features-subtitle">Bridge the gap between complex datasets and actionable insights with our comprehensive AI-driven platform.</p>

                <div class="features-grid">
                    <div class="feature-card-item">
                        <div class="feature-icon" aria-hidden="true">
                            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                <path fill="white" d="M20 2H4C2.897 2 2 2.897 2 4v12c0 1.103.897 2 2 2h3v3l4-3h7c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2z"/>
                            </svg>
                        </div>
                        <h3>Natural Language Queries</h3>
                        <p>Ask questions in plain English about ocean parameters. No technical expertise required.</p>
                        <span class="highlight">"Show me temperature trends in the Indian Ocean"</span>
                    </div>

                    <div class="feature-card-item">
                        <div class="feature-icon" aria-hidden="true">
                            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                <path fill="white" d="M4 22h16v-2H4v-16H2v18c0 1.103.897 2 2 2zM10 14H8V8h2v6zm4 6h-2V10h2v10zm4-4h-2V6h2v10z"/>
                            </svg>
                        </div>
                        <h3>Interactive Visualizations</h3>
                        <p>Automatic generation of depth-time plots, float trajectories, and comparative graphs.</p>
                        <span class="highlight">Real-time chart generation</span>
                    </div>

                    <div class="feature-card-item">
                        <div class="feature-icon" aria-hidden="true">
                            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                <path fill="white" d="M21 20l-5.586-5.586A7.928 7.928 0 0016 9a8 8 0 10-8 8 7.928 7.928 0 005.414-2.586L20 21l1-1zM4 9a5 5 0 1110 0A5 5 0 014 9z"/>
                            </svg>
                        </div>
                        <h3>RAG-Powered Search</h3>
                        <p>Retrieval-Augmented Generation pipeline for fast, accurate data discovery and analysis.</p>
                        <span class="highlight">Lightning-fast results</span>
                    </div>

                    <div class="feature-card-item">
                        <div class="feature-icon" aria-hidden="true">
                            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                <circle cx="12" cy="5" r="1.6" fill="white"/>
                                <circle cx="8" cy="10.5" r="1.4" fill="white"/>
                                <circle cx="16" cy="10.5" r="1.4" fill="white"/>
                                <circle cx="12" cy="16.2" r="1.6" fill="white"/>
                                <path d="M12 6.6v6.6" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                                <path d="M9.3 11.2L12 14" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                                <path d="M14.7 11.2L12 14" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                            </svg>
                        </div>
                        <h3>AI Data Interpretation</h3>
                        <p>Large language models provide expert-level explanations of complex oceanographic patterns.</p>
                        <span class="highlight">Expert insights at scale</span>
                    </div>

                    <div class="feature-card-item">
                        <div class="feature-icon" aria-hidden="true">
                            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                <circle cx="12" cy="12" r="9" fill="none" stroke="white" stroke-width="1.4"/>
                                <ellipse cx="12" cy="12" rx="3.6" ry="9" fill="none" stroke="white" stroke-width="1.2"/>
                                <path d="M3 12h18" fill="none" stroke="white" stroke-width="1.2" stroke-linecap="round"/>
                            </svg>
                        </div>
                        <h3>Global ARGO Coverage</h3>
                        <p>Access to worldwide oceanographic data from thousands of autonomous floats.</p>
                        <span class="highlight">Comprehensive global dataset</span>
                    </div>

                    <div class="feature-card-item">
                        <div class="feature-icon" aria-hidden="true">
                            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                <path fill="white" d="M13 2L3 14h7v8l11-12h-8z"/>
                            </svg>
                        </div>
                        <h3>Real-time Processing</h3>
                        <p>Structured relational database with vector search for instantaneous query responses.</p>
                        <span class="highlight">Sub-second response times</span>
                    </div>
                </div>

                <div class="explore-wrap">
                    <button class="explore-btn" onclick="navigateTo('chat-page')">Explore All Features</button>
                </div>
            </div>
        </div>

        <div id="chat-page">
            <section class="hero-chat">
                <h1>Ask the Ocean</h1>
                <p>
                    Explore ARGO oceanographic data through natural language queries. 
                    Get instant insights, visualizations, and expert analysis.
                </p>
            </section>

            <div class="main-content-chat">
                <div class="left-column">
                    <section class="chat-container">
                        <div class="chat-box">
                            <div class="assistant">
                                <div class="bot-icon">🤖</div>
                                <div class="message">
                                    <p>
                                        Hello! I'm your ARGO data assistant. Ask me anything about ocean temperature, salinity, depth profiles, or float trajectories. Try one of the sample queries below or ask your own question.
                                    </p>
                                    <span class="time">17:38:00</span>
                                </div>
                            </div>

                            <div class="user">
                                <div class="message user-message">
                                    <p>Show me salinity near the equator in March 2023</p>
                                    <span class="time">17:38:12</span>
                                </div>
                                <div class="user-icon">👤</div> 
                            </div>

                            <div class="assistant">
                                <div class="bot-icon">🤖</div>
                                <div class="message">
                                    <p>
                                        Based on the ARGO float data, I found relevant information for your query. Here's what I discovered from analyzing 847 data points across 23 active floats in the specified region.
                                    </p>
                                    <button class="viz-btn">📊 Interactive visualization generated</button>
                                    <span class="time">17:38:14</span>
                                </div>
                            </div>
                        </div>

                        <div class="input-box">
                            <input type="text" placeholder="Ask about ocean temperature, salinity, depth..."/>
                            <button class="send-btn">➤</button>
                        </div>
                    </section>
                </div>

                <div class="right-column">
                    <section class="sample-queries">
                        <h3>Sample Queries</h3>
                        <div class="query">Show me salinity near the equator in March 2023</div>
                        <div class="query">Compare temperature profiles in Arabian Sea</div>
                        <div class="query">What's the oxygen level at 500m depth in Indian Ocean?</div>
                        <div class="query">Track float trajectories in the Pacific over last month</div>
                    </section>

                    <section class="quick-actions">
                        <button onclick="navigateTo('dashboard-page')">📊 View Dashboard</button>
                        <button>🛰 Float Trajectories</button>
                    </section>

                    <section class="data-coverage">
                        <h3>Data Coverage</h3>
                        <div class="stats">
                            <div><strong>Active Floats</strong><br>3,847</div>
                            <div><strong>Data Points</strong><br>50M+</div>
                            <div><strong>Last Update</strong><br>2 hours ago</div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </main>
    
    <div id="advancedFiltersModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Advanced Filters</h2>
                <span class="close-button">&times;</span>
            </div>
           <div class="modal-body">
                <div class="filter-item">
                    <label for="floatId">Filter by specific Float ID</label>
                    <input type="text" id="floatId" placeholder="Enter Float ID (e.g., 5904321)">
                </div>
                <div class="filter-item">
                    <label for="depthRange">Filter by Pressure Range</label>
                    <input type="text" id="depthRange" placeholder="e.g., 500 - 1500">
                </div>
                <div class="filter-item">
                    <label for="qualityFlag">Data Quality</label>
                    <select id="qualityFlag">
                        <option>High Quality Only</option>
                        <option>All Data</option>
                    </select>
                </div>
                <button class="btn-primary" style="width: 100%; margin-top: 10px;">Apply Filters</button>
            </div>
        </div>
    </div>
    
    <script>
        // ==================== PAGE NAVIGATION LOGIC ====================
        function navigateTo(pageId) {
            const pages = ['about-page', 'chat-page', 'features-page', 'dashboard-page']; 
            const links = document.querySelectorAll('.nav-link');

            // Hide all pages
            pages.forEach(id => {
                const page = document.getElementById(id);
                if (page) {
                    page.style.display = 'none';
                }
            });

            // Show the target page
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.style.display = 'block';
                window.scrollTo(0, 0); 
            }

            // Update active link class
            links.forEach(link => {
                if (link.getAttribute('data-page') === pageId) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });
            
            // Re-initialize charts when navigating to the dashboard
            if (pageId === 'dashboard-page') {
                // Since the Chart.js objects are global, we just need to ensure the update functions run
                if (typeof updateMainChart === 'function') {
                    const parameterSelect = document.getElementById('parameterSelect');
                    const selectedParameter = parameterSelect ? parameterSelect.value : 'TEMP';
                    // The mockApiData will need to be accessible globally or passed, 
                    // or the initialization logic should be inside the DOMContentLoaded for the dashboard.
                    // For now, we assume the data is available globally or the subsequent script runs on load.
                }
            }
        }

        // ==================== DASHBOARD CHART AND MODAL LOGIC (from dashboard_app.js) ====================
        document.addEventListener('DOMContentLoaded', () => {
            // ==================== MODAL LOGIC ====================
            const modal = document.getElementById("advancedFiltersModal");
            const btn = document.getElementById("advancedFiltersBtn");
            const span = document.getElementsByClassName("close-button")[0];

            if (modal && btn && span) {
                btn.onclick = function() { modal.style.display = "block"; }
                span.onclick = function() { modal.style.display = "none"; }
                window.onclick = function(event) { if (event.target == modal) { modal.style.display = "none"; } }
            } else {
                // This is expected if the initial page isn't the dashboard.
                // console.error("Modal elements not found. Check your HTML IDs and classes.");
            }

            // ==================== DOM ELEMENT REFERENCES for CHARTS ====================
            const parameterSelect = document.getElementById('parameterSelect');
            const mainChartCtx = document.getElementById('mainAnalysisChart') ? document.getElementById('mainAnalysisChart').getContext('2d') : null;
            const trajectoriesCtx = document.getElementById('floatTrajectoriesChart') ? document.getElementById('floatTrajectoriesChart').getContext('2d') : null;
            const comparativeCtx = document.getElementById('comparativeAnalysisChart') ? document.getElementById('comparativeAnalysisChart').getContext('2d') : null;
            const comparativeChartCanvas = document.getElementById('comparativeAnalysisChart');
            const comparativeChartMessage = document.getElementById('comparativeAnalysisMessage');

            // ==================== MOCK DATA ====================
            const mockApiData = [
                // Float #1
                { "FLOAT_ID": 7902246, "TEMP": 28.7, "PSAL": 34.6, "PRES": 10, "LAT": -1.0, "LON": 78.3, "DATE": "2025-01-01" },
                { "FLOAT_ID": 7902246, "TEMP": 28.9, "PSAL": 34.6, "PRES": 12, "LAT": -1.1, "LON": 78.4, "DATE": "2025-12-31" },
                // Float #2
                { "FLOAT_ID": 7902247, "TEMP": 29.1, "PSAL": 34.8, "PRES": 11, "LAT": -2.5, "LON": 80.1, "DATE": "2025-01-01" },
                { "FLOAT_ID": 7902247, "TEMP": 29.3, "PSAL": 34.9, "PRES": 14, "LAT": -2.6, "LON": 80.2, "DATE": "2025-12-31" },
                // Float #3
                { "FLOAT_ID": 7902248, "TEMP": 28.5, "PSAL": 34.5, "PRES": 9, "LAT": -1.5, "LON": 79.5, "DATE": "2025-01-01" },
                { "FLOAT_ID": 7902248, "TEMP": 28.6, "PSAL": 34.5, "PRES": 11, "LAT": -1.6, "LON": 79.6, "DATE": "2025-12-31" },
                // Float #4
                { "FLOAT_ID": 7902249, "TEMP": 29.5, "PSAL": 35.1, "PRES": 15, "LAT": -3.0, "LON": 81.0, "DATE": "2025-01-01" },
                // Float #5
                { "FLOAT_ID": 7902250, "TEMP": 28.1, "PSAL": 34.3, "PRES": 8, "LAT": -0.5, "LON": 77.0, "DATE": "2025-01-01" },
                // Float #6
                { "FLOAT_ID": 7902251, "TEMP": 28.8, "PSAL": 34.7, "PRES": 12, "LAT": -2.0, "LON": 78.8, "DATE": "2025-01-01" },
                // Float #7
                { "FLOAT_ID": 7902252, "TEMP": 29.0, "PSAL": 34.8, "PRES": 13, "LAT": -2.2, "LON": 79.0, "DATE": "2025-01-01" },
            ];
            
            // ==================== CHART CONFIGURATION & INITIALIZATION ====================
            const parameterConfig = {
                TEMP: { label: 'Temperature', unit: '°C' },
                PSAL: { label: 'Salinity', unit: 'PSU' },
                PRES: { label: 'Pressure', unit: 'dbar' }
            };

            const floatColors = ['hsl(180, 85%, 35%)', 'hsl(210, 85%, 45%)', 'hsl(345, 85%, 45%)', 'hsl(39, 95%, 55%)', 'hsl(270, 85%, 55%)', 'hsl(60, 85%, 45%)', 'hsl(0, 85%, 55%)'];
            const uniqueFloatIds = [...new Set(mockApiData.map(item => item.FLOAT_ID))];

            let mainAnalysisChart, floatTrajectoriesChart, comparativeAnalysisChart;

            if (mainChartCtx) {
                mainAnalysisChart = new Chart(mainChartCtx, {
                    type: 'line',
                    data: { labels: [], datasets: [{ data: [], borderColor: 'hsl(210, 85%, 25%)', backgroundColor: 'hsla(210, 85%, 25%, 0.1)', fill: true, tension: 0.3 }] },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { beginAtZero: false, title: { display: true, text: '' } } } }
                });
            }

            if (trajectoriesCtx) {
                const trajectoriesDatasets = uniqueFloatIds.map((id, index) => {
                    const floatData = mockApiData.filter(item => item.FLOAT_ID === id);
                    return {
                        label: `Float ${id}`,
                        data: floatData.map(d => ({ x: d.LON, y: d.LAT })),
                        backgroundColor: floatColors[index % floatColors.length],
                    };
                });
                
                floatTrajectoriesChart = new Chart(trajectoriesCtx, {
                    type: 'scatter',
                    data: { datasets: trajectoriesDatasets },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: true, position: 'top' }, title: { display: true, text: 'Float Positions' } }, scales: { x: { title: { display: true, text: 'Longitude' } }, y: { title: { display: true, text: 'Latitude' } } } }
                });
            }

            if (comparativeCtx) {
                comparativeAnalysisChart = new Chart(comparativeCtx, {
                    type: 'bar',
                    data: { labels: uniqueFloatIds.map(id => `Float ${id}`), datasets: [{ data: [], backgroundColor: floatColors, borderRadius: 5 }] },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false }, title: { display: true, text: '' } }, scales: { y: { beginAtZero: false, title: { display: true, text: '' } } } }
                });
            }


            // ==================== DYNAMIC FUNCTIONS ====================
            function updateStatsBar() {
                if (!document.getElementById('activeFloatsStat')) return; // Check if dashboard elements exist

                document.getElementById('activeFloatsStat').textContent = uniqueFloatIds.length;
                document.getElementById('dataPointsStat').textContent = mockApiData.length;

                const totalTemp = mockApiData.reduce((sum, item) => sum + item.TEMP, 0);
                const avgTemp = (totalTemp / mockApiData.length).toFixed(1);
                document.getElementById('avgTempStat').textContent = `${avgTemp}°C`;
                
                const totalSalinity = mockApiData.reduce((sum, item) => sum + item.PSAL, 0);
                const avgSalinity = (totalSalinity / mockApiData.length).toFixed(1);
                document.getElementById('avgSalinityStat').textContent = `${avgSalinity}`;

                const allDates = mockApiData.map(item => new Date(item.DATE));
                const minDate = new Date(Math.min(...allDates));
                const maxDate = new Date(Math.max(...allDates));

                const options = { year: 'numeric', month: 'long', day: 'numeric' };
                const formattedMinDate = minDate.toLocaleDateString('en-US', options);
                const formattedMaxDate = maxDate.toLocaleDateString('en-US', options);

                document.getElementById('date-from').value = formattedMinDate;
                document.getElementById('date-to').value = formattedMaxDate;
            }

            function updateMainChart(parameterKey, data) {
                if (!mainAnalysisChart) return;
                
                const labels = data.map(item => item.DATE);
                const dataPoints = data.map(item => item[parameterKey]);

                mainAnalysisChart.data.labels = labels;
                mainAnalysisChart.data.datasets[0].data = dataPoints;
                
                const config = parameterConfig[parameterKey];
                mainAnalysisChart.data.datasets[0].label = config.label;
                mainAnalysisChart.options.scales.y.title.text = `${config.label} (${config.unit})`;
                
                mainAnalysisChart.update();
            }

            function updateComparativeChart(parameterKey, data) {
                if (!comparativeAnalysisChart) return;

                const uniqueIds = [...new Set(data.map(item => item.FLOAT_ID))];
                const config = parameterConfig[parameterKey];

                if (uniqueIds.length <= 1) {
                    comparativeChartCanvas.style.display = 'none';
                    comparativeChartMessage.style.display = 'block';
                } else {
                    comparativeChartCanvas.style.display = 'block';
                    comparativeChartMessage.style.display = 'none';

                    const avgValuePerFloat = uniqueIds.map(id => {
                        const floatData = data.filter(item => item.FLOAT_ID === id);
                        if (floatData.length === 0) return 0;
                        const totalValue = floatData.reduce((sum, item) => sum + item[parameterKey], 0);
                        return totalValue / floatData.length;
                    });

                    comparativeAnalysisChart.data.labels = uniqueIds.map(id => `Float ${id}`);
                    comparativeAnalysisChart.data.datasets[0].data = avgValuePerFloat;
                    comparativeAnalysisChart.data.datasets[0].label = `Average ${config.label} (${config.unit})`;
                    comparativeAnalysisChart.options.plugins.title.text = `Average ${config.label} by Float`;
                    comparativeAnalysisChart.options.scales.y.title.text = `Average ${config.label} (${config.unit})`;
                    
                    comparativeAnalysisChart.update();
                }
            }
            
            // Expose chart functions globally if needed for navigation re-initialization, 
            // but for this combined script, just using them in the initial load is fine.
            window.updateMainChart = updateMainChart;
            window.updateComparativeChart = updateComparativeChart;
            window.updateStatsBar = updateStatsBar;
            
            // ==================== EVENT LISTENERS ====================
            if (parameterSelect) {
                parameterSelect.addEventListener('change', (event) => {
                    const selectedParameter = event.target.value;
                    updateMainChart(selectedParameter, mockApiData);
                    updateComparativeChart(selectedParameter, mockApiData);
                });
            }

            // ==================== INITIAL PAGE LOAD ====================
            // Initial navigation and chart drawing should only happen if the elements exist
            if (document.getElementById('dashboard-page')) {
                updateMainChart('TEMP', mockApiData);
                updateComparativeChart('TEMP', mockApiData);
                updateStatsBar();
            }
            
            // Initialize page navigation and ensure the correct page is shown
            const links = document.querySelectorAll('.nav-link');
            
            links.forEach(link => {
                link.addEventListener('click', (event) => {
                    event.preventDefault(); // Stop default link behavior
                    const targetPage = link.getAttribute('data-page');
                    navigateTo(targetPage);
                });
            });

            // Set the initial active page to the Dashboard, since that's what was provided in the prompt's context
            const initialPageId = 'dashboard-page'; 
            navigateTo(initialPageId);
            // Ensure the correct link is marked active initially.
            const initialLink = document.querySelector(`.nav-links a[data-page="${initialPageId}"]`);
            if (initialLink) {
                initialLink.classList.add('active'); 
            }
        });
    </script>
</body>
</html>